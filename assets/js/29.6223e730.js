(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{234:function(e,t,n){"use strict";n.r(t);var i=n(0),r=Object(i.a)({},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),n("blockquote",[n("p",[e._v("Source Code: "),n("a",{attrs:{href:"https://github.com/dotnet/corefx/blob/master/src/System.Linq/src/System/Linq/Skip.cs",target:"_blank",rel:"noopener noreferrer"}},[e._v("Skip.cs"),n("OutboundLink")],1),e._v("、"),n("a",{attrs:{href:"https://github.com/dotnet/corefx/blob/master/src/System.Linq/src/System/Linq/Partition.cs",target:"_blank",rel:"noopener noreferrer"}},[e._v("Partition.cs"),n("OutboundLink")],1)])]),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),e._m(5),n("p",[e._v("此公開方法做了下面幾件事情:")]),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),n("p",[e._v("上面的程式有幾個重點:")]),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17),e._m(18),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),n("p",[e._v("這段程式碼有下面幾個重點:")]),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),e._m(25),e._m(26),e._v(" "),e._m(27),e._v(" "),e._m(28),e._v(" "),e._m(29),e._v(" "),e._m(30),e._v(" "),e._m(31),e._m(32),e._v(" "),e._m(33),e._v(" "),e._m(34),e._v(" "),e._m(35),e._v(" "),e._m(36),e._v(" "),e._m(37),n("p",[e._v("一個有傳入index的參數，另一個沒有傳入。")]),e._v(" "),n("p",[e._v("兩個方法都做了以下的處理:")]),e._v(" "),e._m(38),e._v(" "),e._m(39),e._v(" "),e._m(40),n("p",[e._v("這段有下列的重點:")]),e._v(" "),e._m(41),e._v(" "),e._m(42),e._v(" "),n("blockquote",[n("p",[e._v("Source Code: "),n("a",{attrs:{href:"https://github.com/dotnet/corefx/blob/master/src/System.Linq/tests/SkipTests.cs",target:"_blank",rel:"noopener noreferrer"}},[e._v("SkipTests.cs"),n("OutboundLink")],1),e._v("、"),n("a",{attrs:{href:"https://github.com/dotnet/corefx/blob/master/src/System.Linq/tests/SkipLastTests.cs",target:"_blank",rel:"noopener noreferrer"}},[e._v("SkipLastTests.cs"),n("OutboundLink")],1),e._v("、"),n("a",{attrs:{href:"https://github.com/dotnet/corefx/blob/master/src/System.Linq/tests/SkipWhileTests.cs",target:"_blank",rel:"noopener noreferrer"}},[e._v("SkipWhileTests.cs"),n("OutboundLink")],1)])]),e._v(" "),e._m(43),e._v(" "),e._m(44),e._v(" "),e._m(45),e._m(46),e._v(" "),e._m(47),e._v(" "),e._m(48),e._m(49),e._v(" "),e._m(50),e._v(" "),e._m(51),e._m(52),e._v(" "),e._m(53),e._v(" "),e._m(54),e._v(" "),e._m(55),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://github.com/dotnet/corefx",target:"_blank",rel:"noopener noreferrer"}},[e._v("dotnet/corefx"),n("OutboundLink")],1)])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"skip的原碼探索"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#skip的原碼探索","aria-hidden":"true"}},[this._v("#")]),this._v(" Skip的原碼探索")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("本章會說明及分析"),n("code",[e._v("Skip")]),e._v("、"),n("code",[e._v("SkipLast")]),e._v("、"),n("code",[e._v("SkipWhile")]),e._v("三個方法的"),n("strong",[e._v("原始碼實作")]),e._v("及"),n("strong",[e._v("測試案例欣賞")]),e._v("。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"原始碼分析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#原始碼分析","aria-hidden":"true"}},[this._v("#")]),this._v(" 原始碼分析")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"skip"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#skip","aria-hidden":"true"}},[this._v("#")]),this._v(" Skip")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("Skip")]),this._v("有一個公開方法的實作如下:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("public static IEnumerable<TSource> Skip<TSource>(this IEnumerable<TSource> source, int count)\n{\n    if (source == null)\n    {\n        throw Error.ArgumentNull(nameof(source));\n    }\n\n    if (count <= 0)\n    {\n        // Return source if not actually skipping, but only if it's a type from here, to avoid\n        // issues if collections are used as keys or otherwise must not be aliased.\n        if (source is Iterator<TSource> || source is IPartition<TSource>)\n        {\n            return source;\n        }\n\n        count = 0;\n    }\n\n    else if (source is IPartition<TSource> partition)\n    {\n        return partition.Skip(count);\n    }\n\n    if (source is IList<TSource> sourceList)\n    {\n        return new ListPartition<TSource>(sourceList, count, int.MaxValue);\n    }\n\n    return new EnumerablePartition<TSource>(source, count, -1);\n}\n")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("判斷"),n("code",[e._v("source")]),e._v("是否為空，空的話拋出"),n("code",[e._v("ArgumentNull")]),e._v("的"),n("strong",[e._v("例外")])]),e._v(" "),n("li",[e._v("判斷"),n("code",[e._v("count")]),e._v("是否小於"),n("code",[e._v("0")]),e._v("，小於"),n("code",[e._v("0")]),e._v("的話將"),n("code",[e._v("count")]),e._v("設成"),n("code",[e._v("0")])]),e._v(" "),n("li",[e._v("前面已經是"),n("code",[e._v("IPartition")]),e._v("型別，也就是已經有執行過LINQ了，直接call之前method實作的"),n("code",[e._v("Skip")])]),e._v(" "),n("li",[e._v("如果是"),n("code",[e._v("IList")]),e._v("就用"),n("code",[e._v("ListPartition")]),e._v("實作")]),e._v(" "),n("li",[e._v("其餘的叫用"),n("code",[e._v("EnumerablePartition")]),e._v("實作")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("看到"),n("code",[e._v("Enumerable")]),e._v("就會想到"),n("code",[e._v("MoveNext()")]),e._v("，所以接下來會介紹"),n("code",[e._v("ListPartition")]),e._v("跟"),n("code",[e._v("EnumerablePartition")]),e._v("的定義及"),n("code",[e._v("MoveNext()")]),e._v("。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"listpartition"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#listpartition","aria-hidden":"true"}},[this._v("#")]),this._v(" ListPartition")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("public ListPartition(IList<TSource> source, int minIndexInclusive, int maxIndexInclusive);\n")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("傳入一個"),n("code",[e._v("List")]),e._v("，設好"),n("strong",[e._v("第一個")]),e._v("元素及"),n("strong",[e._v("最後個")]),e._v("元素的"),n("code",[e._v("index")]),e._v("，他會把這區間內的元素集合輸出。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("這裡要注意的是如果只要忽略前面的元素的話只需要設定"),t("code",[this._v("minIndexInclusive")]),this._v("，"),t("code",[this._v("maxIndexInclusive")]),this._v("設為"),t("code",[this._v("int.MaxValue")]),this._v("就好。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("下面是"),t("code",[this._v("MoveNext()")]),this._v("的實作:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("public override bool MoveNext()\n{\n    // _state - 1 represents the zero-based index into the list.\n    // Having a separate field for the index would be more readable. However, we save it\n    // into _state with a bias to minimize field size of the iterator.\n    int index = _state - 1;\n    if (unchecked((uint)index <= (uint)(_maxIndexInclusive - _minIndexInclusive) && index < _source.Count - _minIndexInclusive))\n    {\n        _current = _source[_minIndexInclusive + index];\n        ++_state;\n        return true;\n    }\n\n    Dispose();\n    return false;\n}\n")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[n("code",[e._v("_state")]),e._v("當作索引，初始值是"),n("code",[e._v("1")]),e._v("，所以"),n("code",[e._v("index = _state - 1")])]),e._v(" "),n("li",[e._v("這裡要輸出的元素是由"),n("code",[e._v("_minIndexInclusive")]),e._v("起算，可以想成"),n("code",[e._v("_minIndexInclusive")]),e._v("是個起點，而"),n("code",[e._v("index")]),e._v("則是由這個"),n("strong",[e._v("起點數來第幾個")]),e._v("的變數")]),e._v(" "),n("li",[e._v("判斷"),n("code",[e._v("index")]),e._v("有沒有超出"),n("strong",[e._v("最大索引值")]),e._v("及"),n("strong",[e._v("集合數量")])]),e._v(" "),n("li",[e._v("如果超出則"),n("code",[e._v("return false")]),e._v("，結束迭代")]),e._v(" "),n("li",[e._v("如果沒有超出，則把目前的元素附給"),n("code",[e._v("_current")]),e._v("，然後"),n("code",[e._v("_state")]),e._v("加"),n("strong",[e._v("1")]),e._v("，回傳"),n("code",[e._v("true")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("這裡我們注意到一件事，因為"),n("code",[e._v("_maxIndexInclusive")]),e._v("的用法是"),n("code",[e._v("index <= _maxIndexInclusive - _minIndexInclusive")]),e._v("，所以只要把"),n("code",[e._v("_maxIndexInclusive")]),e._v("設為"),n("code",[e._v("int.MaxValue")]),e._v("，"),n("code",[e._v("_maxIndexInclusive")]),e._v("就不會影響判斷，因此"),n("code",[e._v("Skip")]),e._v("才會將其設為"),n("code",[e._v("int.MaxValue")]),e._v("。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"enumerablepartition"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#enumerablepartition","aria-hidden":"true"}},[this._v("#")]),this._v(" EnumerablePartition")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("internal EnumerablePartition(IEnumerable<TSource> source, int minIndexInclusive, int maxIndexInclusive);\n")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("傳入一個"),n("code",[e._v("IEnumerable")]),e._v("，設好"),n("strong",[e._v("第一個")]),e._v("元素及"),n("strong",[e._v("最後個")]),e._v("元素的"),n("code",[e._v("index")]),e._v("，他會把這區間內的元素集合輸出。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("如果只要忽略由第一個數來第N個元素的話只需要設定"),t("code",[this._v("minIndexInclusive")]),this._v("，"),t("code",[this._v("maxIndexInclusive")]),this._v("設為"),t("code",[this._v("-1")]),this._v("就好。")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("這裡有一個地方跟"),n("code",[e._v("ListPartition")]),e._v("不同，只要"),n("strong",[e._v("忽略前面的元素")]),e._v("時"),n("code",[e._v("maxIndexInclusive")]),e._v("的設定一個是"),n("code",[e._v("int.MaxValue")]),e._v("，一個是"),n("code",[e._v("-1")]),e._v("，我們等下從實作上看為什麼會不同。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("下面是"),t("code",[this._v("MoveNext()")]),this._v("的實作:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("public override bool MoveNext()\n{\n    // Cases where GetEnumerator has not been called or Dispose has already\n    // been called need to be handled explicitly, due to the default: clause.\n    int taken = _state - 3;\n    if (taken < -2)\n    {\n        Dispose();\n        return false;\n    }\n\n    switch (_state)\n    {\n        case 1:\n            _enumerator = _source.GetEnumerator();\n            _state = 2;\n            goto case 2;\n        case 2:\n            if (!SkipBeforeFirst(_enumerator))\n            {\n                // Reached the end before we finished skipping.\n                break;\n            }\n\n            _state = 3;\n            goto default;\n        default:\n            if ((!HasLimit || taken < Limit) && _enumerator.MoveNext())\n            {\n                if (HasLimit)\n                {\n                    // If we are taking an unknown number of elements, it's important not to increment _state.\n                    // _state - 3 may eventually end up overflowing & we'll hit the Dispose branch even though\n                    // we haven't finished enumerating.\n                    _state++;\n                }\n                _current = _enumerator.Current;\n                return true;\n            }\n\n            break;\n    }\n\n    Dispose();\n    return false;\n}\n")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("這裡的"),n("code",[e._v("_state")]),e._v("回歸原本的用法: "),n("strong",[e._v("狀態的設置")])]),e._v(" "),n("li",[n("code",[e._v("_state=1")]),e._v(": 初始"),n("code",[e._v("_source")]),e._v("，轉為"),n("code",[e._v("Enumerator")])]),e._v(" "),n("li",[n("code",[e._v("_state=2")]),e._v(": 判斷設置的"),n("code",[e._v("minIndexInclusive")]),e._v("是否"),n("strong",[e._v("超過集合總長度")]),e._v("並且將"),n("code",[e._v("_enumerator")]),e._v("的"),n("code",[e._v("_current")]),e._v("推至"),n("code",[e._v("minIndexInclusive")]),e._v("的位置")]),e._v(" "),n("li",[n("code",[e._v("_state=3")]),e._v(": 判斷是否超過"),n("strong",[e._v("最大長度")]),e._v("，沒有的話將"),n("code",[e._v("_current")]),e._v("往後"),n("strong",[e._v("再推一個至目標位置")]),e._v("然後傳回"),n("strong",[e._v("true")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("我們可以在"),t("code",[this._v("HasLimit")]),this._v("找到為什麼"),t("code",[this._v("maxIndexInclusive")]),this._v("要設"),t("code",[this._v("-1")]),this._v(":")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("private bool HasLimit => _maxIndexInclusive != -1;\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("EnumerablePartition")]),this._v("是用"),t("code",[this._v("_maxIndexInclusive != -1")]),this._v("判斷是否有設定最大值，所以如果沒有設定最大值的話要設為"),t("code",[this._v("-1")]),this._v("。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"skiplast"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#skiplast","aria-hidden":"true"}},[this._v("#")]),this._v(" SkipLast")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("SkipLast")]),this._v("有一個公開方法，其實作為:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("判斷參數是否為空，如果為空則拋出"),t("code",[this._v("ArgumentNull")]),this._v("例外")]),this._v(" "),t("li",[this._v("參數判斷合法後叫用"),t("code",[this._v("SkipLastIterator")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("下面為"),t("code",[this._v("SkipLastIterator")]),this._v("的實作:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("private static IEnumerable<TSource> SkipLastIterator<TSource>(IEnumerable<TSource> source, int count)\n{\n    Debug.Assert(source != null);\n    Debug.Assert(count > 0);\n\n    var queue = new Queue<TSource>();\n\n    using (IEnumerator<TSource> e = source.GetEnumerator())\n    {\n        while (e.MoveNext())\n        {\n            if (queue.Count == count)\n            {\n                do\n                {\n                    yield return queue.Dequeue();\n                    queue.Enqueue(e.Current);\n                }\n                while (e.MoveNext());\n                break;\n            }\n            else\n            {\n                queue.Enqueue(e.Current);\n            }\n        }\n    }\n}\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("SkipLast")]),this._v("是用"),t("code",[this._v("yield return")]),this._v("實作，有下面幾個重點:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("維護一個"),n("code",[e._v("Queue")]),e._v("，用來存放集合的元素")]),e._v(" "),n("li",[e._v("叫用"),n("code",[e._v("MoveNext()")]),e._v("將"),n("code",[e._v("Queue")]),e._v("的元素數量塞到跟要"),n("code",[e._v("Skip")]),e._v("的元素數量一樣為止")]),e._v(" "),n("li",[e._v("當Queue的元素數量跟要"),n("code",[e._v("Skip")]),e._v("的數量相同時，做以下動作\n"),n("ol",[n("li",[e._v("從Queue裡抓出第一個元素做"),n("code",[e._v("yield return")])]),e._v(" "),n("li",[e._v("將目前的元素在塞到Queue裡")]),e._v(" "),n("li",[e._v("叫用"),n("code",[e._v("MoveNext()")]),e._v("做下一輪的判斷")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("第三點的處理會讓Queue裡一直保持最後"),t("code",[this._v("count")]),this._v("數的元素，代表到巡覽結束時在Queue中的元素就不會被輸出，所以就可以做到最後"),t("code",[this._v("count")]),this._v("數的元素"),t("code",[this._v("Skip")]),this._v("的處理。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"skipwhile"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#skipwhile","aria-hidden":"true"}},[this._v("#")]),this._v(" SkipWhile")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("SkipWhlie")]),this._v("有兩個公開方法，差別在"),t("code",[this._v("predicate")]),this._v("參數上:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("SkipWhile<TSource>(...Func<TSource, bool> predicate);\n\nSkipWhile<TSource>(...Func<TSource, int, bool> predicate);\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("判斷參數是否為空，如果為空則拋出"),t("code",[this._v("ArgumentNull")]),this._v("例外")]),this._v(" "),t("li",[this._v("參數判斷合法後叫用"),t("code",[this._v("SkipWhileIterator")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("我們兩種"),n("code",[e._v("Iterator")]),e._v("一起看，直接看有"),n("code",[e._v("index")]),e._v("參數的"),n("code",[e._v("predicate")]),e._v("的"),n("code",[e._v("SkipWhileIterator")]),e._v(":")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("private static IEnumerable<TSource> SkipWhileIterator<TSource>(IEnumerable<TSource> source, Func<TSource, int, bool> predicate)\n{\n    using (IEnumerator<TSource> e = source.GetEnumerator())\n    {\n        int index = -1;\n        while (e.MoveNext())\n        {\n            checked\n            {\n                index++;\n            }\n\n            TSource element = e.Current;\n            if (!predicate(element, index))\n            {\n                yield return element;\n                while (e.MoveNext())\n                {\n                    yield return e.Current;\n                }\n\n                yield break;\n            }\n        }\n    }\n}\n")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("每次"),n("code",[e._v("MoveNext()")]),e._v("時"),n("code",[e._v("index")]),e._v("就加"),n("code",[e._v("1")])]),e._v(" "),n("li",[e._v("判斷"),n("code",[e._v("predicate")]),e._v("的結果，如果是"),n("code",[e._v("true")]),e._v("代表要繼續"),n("code",[e._v("Skip")])]),e._v(" "),n("li",[e._v("如果是"),n("code",[e._v("false")]),e._v("的話代表要輸出"),n("strong",[e._v("這個元素之後的所有元素")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"測試案例賞析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#測試案例賞析","aria-hidden":"true"}},[this._v("#")]),this._v(" 測試案例賞析")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"skiptests-cs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#skiptests-cs","aria-hidden":"true"}},[this._v("#")]),this._v(" SkipTests.cs")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"skipexcessive"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#skipexcessive","aria-hidden":"true"}},[this._v("#")]),this._v(" SkipExcessive")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("[Fact]\npublic void SkipExcessive()\n{\n    Assert.Equal(Enumerable.Empty<int>(), NumberRangeGuaranteedNotCollectionType(0, 20).Skip(42));\n}\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("count")]),this._v("超過元素數量的話會傳回"),t("code",[this._v("Empty")]),this._v("。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"skiponempty"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#skiponempty","aria-hidden":"true"}},[this._v("#")]),this._v(" SkipOnEmpty")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("[Fact]\npublic void SkipOnEmpty()\n{\n    Assert.Equal(Enumerable.Empty<int>(), GuaranteeNotIList(Enumerable.Empty<int>()).Skip(0));\n    Assert.Equal(Enumerable.Empty<string>(), GuaranteeNotIList(Enumerable.Empty<string>()).Skip(-1));\n    Assert.Equal(Enumerable.Empty<double>(), GuaranteeNotIList(Enumerable.Empty<double>()).Skip(1));\n}\n")])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("code",[e._v("source")]),e._v("是"),n("code",[e._v("Empty")]),e._v("並不會拋出"),n("code",[e._v("ArgumentNull")]),e._v("的例外，而是回傳"),n("code",[e._v("Empty")]),e._v("的集合。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"skipnegative"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#skipnegative","aria-hidden":"true"}},[this._v("#")]),this._v(" SkipNegative")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-C# extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[this._v("[Fact]\npublic void SkipNegative()\n{\n    Assert.Equal(Enumerable.Range(0, 20), NumberRangeGuaranteedNotCollectionType(0, 20).Skip(-42));\n}\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",[this._v("count")]),this._v("為"),t("strong",[this._v("負數")]),this._v("時不會"),t("code",[this._v("Skip")]),this._v("任何元素。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"結語"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#結語","aria-hidden":"true"}},[this._v("#")]),this._v(" 結語")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("在"),n("code",[e._v("Skip")]),e._v("的原始碼中，我們可以觀察到"),n("code",[e._v("Skip")]),e._v("是用什麼方式達成目標的，其中最特別的是"),n("code",[e._v("SkipLast")]),e._v("，用了一個Queue存入跟要"),n("code",[e._v("Skip")]),e._v("數量相同的元素，在巡覽到想同數量時開始把Queue中的第一個元素吐出，最後Queue中只會剩下要"),n("code",[e._v("Skip")]),e._v("的元素，剩餘的都已經巡覽了。")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"參考"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#參考","aria-hidden":"true"}},[this._v("#")]),this._v(" 參考")])}],!1,null,null,null);t.default=r.exports}}]);